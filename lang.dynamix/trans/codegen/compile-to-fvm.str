module compile-to-fvm

imports
  signatures/Dynamix-sig
  Stratego-Sugar-in-Stratego
  pp
  pp-stratego
  
rules
  
  dnx-compile-to-fvm:
    (_, _, ast, path, project-path) -> (filename, result)
    with
      filename := <guarantee-extension(|"dnx.rgr")> path
    ; fname    := <base-filename; remove-extension> path
    ; result   := <dnx-compile-to-fvm> ast
    
rules
  dnx-compile-to-fvm: source_ast -> []
    where
      dnx_ast := <debug> <import-term(src-gen/dynamix/spec.aterm)>